<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>欢迎页</title>
    <script type="text/javascript">
        /**
         * 检查用户名
         */
        function checkUserNameValue() {
            var username = document.getElementById("userName");
            var usernameSpan = document.getElementById("userNameSpan");
            //正则表达式
            /**
             * /^ 代表开头内容为什么
             * \w 代表 查找数字、字母及下划线
             * n+ 匹配任何至少包含一个 n 的字符串
             * $ 表示结尾内容为什么
             * */
            var patt = /^\w{3,18}$/;
            //.test() 匹配输入的字符是否符合正则
            if (patt.test(username.value)) {
                usernameSpan.innerText = "✅ 可用!";
                usernameSpan.style.color = "#68b88e";
            } else {
                usernameSpan.innerText = "✖️ 用户名不符合要求!";
                usernameSpan.style.color = "#ee3f4d";
            }
        }

        /**
         * 检查密码
         */
        function checkPassword() {
            var password = document.getElementById("password");
            var passwordSpan = document.getElementById("passwordSpan");
            /**
             * 最少6位 最多18位的密码
             * */
            var patt = /^\w{6,18}$/;
            //判断是否符合
            if (patt.test(password.value)) {
                passwordSpan.innerText = "✅ 可用!";
                passwordSpan.style.color = "#68b88e";
            } else {
                passwordSpan.innerText = "✖️ 不符合规则， 请核对密码是否为数字、字母、下划线等组合!";
                passwordSpan.style.color = "#ee3f4d";
            }
        }

        /**
         * 确认密码
         */
        function checkConfirmPassword() {
            // 获取密码
            var password = document.getElementById("password").value;
            // 获取确认密码
            var confirmPassword = document.getElementById("confirmPassword").value;

            var confirmPassSpan = document.getElementById("confirmPassSpan");
            if (confirmPassword === password && "" !== password) {
                confirmPassSpan.innerText = "✅ 正确!";
                confirmPassSpan.style.color = "#68b88e";
            } else {
                confirmPassSpan.innerText = "✖️ 密码不一致，请确认!";
                confirmPassSpan.style.color = "#ee3f4d";
            }
        }

        /**
         * 检查手机号
         */
        function checkMobile() {
            var mobile = document.getElementById("mobile");
            var mobileSpan = document.getElementById("mobileSpan");
            /**
             * 手机号码
             * 1、开头必须是1
             * 2、第二位必须从3-9
             * 3、手机号长度为11位 且仅为数字 所以采用 \d 查找数字的正则来判断 {9}表示填充多少位
             * 4、$ 匹配任意为n$的结尾
             * @type {RegExp}
             */
            var patt = /^1[3-9]\d{9}$/;
            if (patt.test(mobile.value)) {
                mobileSpan.innerText = "✅ 可用!";
                mobileSpan.style.color = "#68b88e";
            } else {
                mobileSpan.innerText = "✖️ 手机号码不正确, 请核对后输入!";
                mobileSpan.style.color = "#ee3f4d";
            }

        }

        /**
         * 检查邮箱
         */
        function checkEmail() {
            var email = document.getElementById("email");
            var emailSpan = document.getElementById("emailSpan");

            /**
             * 邮箱正则表达
             * ^\w+表示任意长度字符开头
             * @ 包含该字符
             * \w 表示任意字符长度为2-6
             * . 包含该字符
             * @type {RegExp}
             */
            var patt = /^\w+@\w{2,6}.\w{2,5}$/;
            if (patt.test(email.value)) {
                emailSpan.innerText = "✅ 可用!";
                emailSpan.style.color = "#68b88e";
            }else {
                emailSpan.innerText = "✖️ 不符合邮箱格式!";
                emailSpan.style.color = "#ee3f4d";
            }
        }
    </script>
</head>
<body>
    <div style="padding-left: 36%; padding-top: 10%;">
        <p style="padding-left: 15%; font-size: 20px;">用户信息注册</p>
        <form action="http://localhost:8080/shopping/helloServlet" method="get">
            用户名: <input id="userName" placeholder="输入用户名" onblur="checkUserNameValue()">  <span id="userNameSpan" style="font-size: 14px">请输入用户名 字母、数字或下划线</span>
            <br/><br/>
            密码: <input id="password" placeholder="输入密码" type="password" onblur="checkPassword()"> <span id="passwordSpan" style="font-size: 14px">请输入6-18位的密码 字母、数字或下划线</span>
            <br/><br/>
            确认密码: <input id="confirmPassword" type="password" onblur="checkConfirmPassword()"> <span id="confirmPassSpan" style="font-size: 14px">请再输入一次密码</span>
            <br/><br/>
            性别: <input id="man" type="radio" checked="checked" name="sex" value="1">男 <input id="woman" type="radio" name="sex" value="0">女
            <br/><br/>
            手机号: <input id="mobile" type="text" onblur="checkMobile()"> <span id="mobileSpan" style="font-size: 14px">请输入11位数的手机号码</span>
            <br/><br/>
            E-mail: <input id="email" type="text" onblur="checkEmail()"> <span id="emailSpan" style="font-size: 14px">请输入电子邮箱</span>
            <br/><br/>
            专业: 计科大数据<input id="bigData" checked="checked" name="professional" type="checkbox">  软件工程<input id="software" name="professional" type="checkbox">  物联网<input id="internet" name="professional" type="checkbox">
            <br/><br/>
            政治面貌: 党员<input name="political" checked="checked" type="radio" value="1"> 团员<input name="political" type="radio" value="2"> 群众<input name="political" type="radio" value="0">
            <br/><br/>
            <input id="confirmButton" type="submit" value="确认" style="margin-left: 10%; padding: 1% 1%"> <input id="cancelButton" type="reset" value="取消" style="margin-left: 15%; padding: 1% 1%">
        </form>
    </div>
</body>
</html>